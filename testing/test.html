<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>URL Shortener</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
        <script src="https://apis.google.com/js/client.js"></script>
        <script type="text/javascript">
            function makeRequest(){
                console.log("here2");
                var request = gapi.client.urlshortener.url.get({
                    "shortUrl" : "http://goo.gl/fbsS"
                });
                request.then(function(response){
                    $('p')[0].innerHTML += response.result.longUrl;
                },function(response){
                    console.log("Error occured!");
                });
            }
            function loadApi(){
                gapi.client.setApiKey("AIzaSyDGosRUWhEismSud3vuCx-rT1DcRD7AmTQ");
                gapi.client.load("urlshortener","v1").then(makeRequest);
            }
        </script>
    </head>
    <body>
        <h1>URL Shortener</h1>
        <h4>Google API Testing</h4>
        <hr>
        <h3>Retrieve Original URL</h3>
        <p class="result">
            Original URL is :
        </p>
        <button type="button" onclick="loadApi()">Click</button>
    </body>
</html>
